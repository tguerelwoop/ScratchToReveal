<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
  body { margin:0; }
  canvas {
    width: 100vw;   /* scale to phone width */
    height: auto;
    display: block;
    touch-action: none;
  }
</style>
</head>
<body>

<canvas id="c"></canvas>

<script>
const canvas = document.getElementById('c');
const ctx = canvas.getContext('2d');

const topImg = new Image();
const bottomImg = new Image();

topImg.src = 'top.PNG';
bottomImg.src = 'bottom.PNG';

Promise.all([
  new Promise(r => topImg.onload = r),
  new Promise(r => bottomImg.onload = r)
]).then(init);

function init() {
  // Scale canvas internal resolution to match CSS width
  const displayWidth = canvas.clientWidth;
  const scale = displayWidth / bottomImg.width;

  canvas.width = bottomImg.width * scale;
  canvas.height = bottomImg.height * scale;

  ctx.drawImage(bottomImg, 0, 0, canvas.width, canvas.height);
  ctx.drawImage(topImg, 0, 0, canvas.width, canvas.height);

  canvas.dataset.scale = scale;
}

let drawing = false;

function erase(x, y) {
  const scale = parseFloat(canvas.dataset.scale);
  const radius = 25 * scale;

  ctx.globalCompositeOperation = 'destination-out';
  ctx.beginPath();
  ctx.arc(x, y, radius, 0, Math.PI * 2);
  ctx.fill();
}

canvas.addEventListener('pointerdown', e => {
  drawing = true;
  erase(e.offsetX, e.offsetY);
});

canvas.addEventListener('pointermove', e => {
  if (drawing) erase(e.offsetX, e.offsetY);
});

canvas.addEventListener('pointerup', () => drawing = false);
canvas.addEventListener('pointerleave', () => drawing = false);
</script>

</body>
</html>
